# ะะฐัััะพะนะบะฐ PostgresPro 1C enterprise ะดะปั ัะฐะฑะพัั ั 1ะก

ะะพะปััะฐะตะผ ะพั PostgresPro iso-ะดะธัะบ ั ัะตะฟะฐะผะธ, ะบะพะฟะธััะตะผ ะตะณะพ ะฝะฐ ัะตะปะตะฒัั ะผะฐัะธะฝั, ะผะพะฝัะธััะตะผ ะบะฐะบ loop ะฒ /mnt/loop:
```
 mount -o loop,ro PostgresProEntCert-11.18.2+13.9.1+14.6.1.iso /mnt/loop/
```
ะฝะฐัััะฐะธะฒะฐะตะผ ะปะพะบะฐะปั (ะฒัะฑะธัะฐะตะผ ru_RU.UTF-8 ะฟะพ-ัะผะพะปัะฐะฝะธั):
```
dpkg-reconfigure locales
```
ะะฐ ะดะธัะบะต ะตััั ัะตะฟั. ะัะพะฟะธััะฒะฐะตะผ ะธั ะฒ apt ะฒ ัะฐะนะป: /etc/apt/sources.list.d/postgres.list 
```
deb [trusted=yes] file:/mnt/loop/astra-smolensk/1.7/ 1.7_x86-64 main
```
ะงัะพะฑั ะฟัะธ apt-get update ะฝะต ััะณะฐะปะพัั ะฝะฐ ะพััััััะฒัััะธะต ะบะปัั - ะดะพะฑะฐะฒะปัะตะผ ะธั:
```
gpg --import /mnt/loop/keys/GPG-KEY-POSTGRESPRO
apt-key add /mnt/loop/keys/GPG-KEY-POSTGRESPRO
```
ะกัะฐะฒะธะผ postgrespro:
```
apt-get update
apt-get install postgrespro-ent-14
```
ะะพ-ัะผะพะปัะฐะฝะธั ะบะปะฐััะตั ัะถะต ัะพะทะดะฐะปัั, ะฝะพ ะฝะฐะผ ััะพ ะฝะต ะฟะพะดัะพะดะธั, ั.ะบ. ะฝัะถะฝะพ ะฝะฐัััะพะธัั ะตะณะพ ะฟัะธ ัะพะทะดะฐะฝะธะธ ะฝะฐ ัะฐะฑะพัั ั 1ะก. ะะพััะพะผั ัะฝะพัะธะผ ะดะธัะตะบัะพัะธั ะบะปะฐััะตัะฐ (ะฒะฝะธะผะฐะฝะธะต - ัะดะฐะปัััั ะฒัะต ะดะฐะฝะฝัะต ะฒ ะฑะฐะทะต!):
```
systemctl stop postgrespro-ent-14.service
rm -rf /var/lib/pgpro/ent-14/data/*
```
ะะฐะฝะพะฒะพ ัะพะทะดะฐัะผ ะบะปะฐััะตั ั ะฝะฐัััะพะนะบะฐะผะธ ะฟะพะด 1ะก:
```
pg-setup initdb --tune=1c
systemctl start postgrespro-ent-14.service
```
ะฃะฒะตะปะธัะธะฒะฐะตะผ ะบะพะปะธัะตััะฒะพ ัะพะตะดะธะฝะตะฝะธะน ะดะพ 1000 (ะพะฟัะธั max_connections) ะฒ ัะฐะนะปะต ะบะพะฝัะธะณััะฐัะธะธ /var/lib/pgpro/ent-14/data/postgresql.conf - ะฟะพ ะพัะธัะธะฐะปัะฝะพะน ะธะฝััััะบัะธะธ: 
=> https://postgrespro.com/docs/enterprise/14/config-one-c Configuring Postgres Pro for 1C Solutions

ะฟะตัะตะทะฐะณััะถะฐะตะผ, ััะพะฑั ะธะทะผะตะฝะตะฝะธั ะฒัััะฟะธะปะธ ะฒ ัะธะปั:
```
systemctl restart postgrespro-ent-14.service
```
ะะปั ัะพะณะพ, ััะพะฑั ะธะท 1ะก ะผะพะถะฝะพ ะฑัะปะพ ัะฟัะฐะฒะปััั ัะตัะฒะตัะพะผ postgres - ะทะฐะดะฐัะผ ะฟะฐัะพะปั ะฟะพะปัะทะพะฒะฐัะตะปั postgres:
```
sudo -u postgres psql -U postgres -c "alter user postgres with password 'postgrespwd';"
```

ะะพัะปะต ััะพะณะพ ะฒ 1ะก ะทะฐะดะฐัะผ ะฐะดัะตั ะฝะฐัะตะณะพ ัะตัะฒะตัะฐ, ะฟะพะปัะทะพะฒะฐัะตะปั postgres ะธ ะฟะฐัะพะปั postgrespwd - ะธ ัะพะทะดะฐัะผ ะฝัะถะฝัะต ะฑะฐะทั.

=>../index.gmi ๐ ะฒะตัะฝััััั ะบ ะฝะฐัะฐะปั...
